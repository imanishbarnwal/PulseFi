[profile.default]
src = "contracts"
out = "out"
libs = ["node_modules", "lib"]

# CRITICAL: v4 requires Cancun for TSTORE/TLOAD opcodes
evm_version = "cancun" 
solc_version = "0.8.26"

# CRITICAL: v4 logic is complex; IR pipeline prevents "Stack too deep"
via_ir = true
optimizer = true
optimizer_runs = 200

# Remappings to map import paths to node_modules
remappings = [
    "@uniswap/v4-core/=node_modules/@uniswap/v4-core/",
    "v4-periphery/=node_modules/@uniswap/v4-periphery/",
    "@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/",
    "forge-std/=lib/forge-std/src/"
]
